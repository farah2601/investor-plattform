import{E as a}from"./embla-carousel.esm.v-CXq_RL.js";import{A as l}from"./embla-carousel-autoplay.esm.B6nkazOu.js";import"./ResourcesCarousel.astro_astro_type_script_index_0_lang.dV71FA8o.js";import"./hoisted.BOYWiEH3.js";class i extends HTMLElement{embla;observer;slideNodes;tabNodes;constructor(){super(),this.embla=a(this.querySelector("[data-slider]"),{containScroll:!1},[l({playOnInit:!1,delay:5e3})]);const e=this.querySelector("[data-slider-tabs]");this.slideNodes=Array.from(this.querySelectorAll("[data-slide]")),this.tabNodes=Array.from(e.querySelectorAll("button")),this.setupTabs(),this.observer=new IntersectionObserver(t=>{t.forEach(s=>{s.isIntersecting&&(this.observer.disconnect(),this.embla.plugins().autoplay.play())})}),this.observer.observe(e)}disconnectedCallback(){this.embla.destroy(),this.observer.disconnect()}setupTabs(){this.tabNodes.forEach((e,t)=>{e.addEventListener("click",()=>this.embla.scrollTo(t,!0),!1)}),this.embla.on("autoplay:play",()=>{this.activateIndex(this.embla.selectedScrollSnap())}),this.embla.on("autoplay:stop",()=>{this.clearActive()}),this.embla.on("select",()=>{this.activateIndex(this.embla.selectedScrollSnap()),this.embla.plugins().autoplay.reset()})}activateIndex(e){this.clearActive(),this.slideNodes[e].dataset.active="true",this.tabNodes[e].dataset.active="true"}clearActive(){this.slideNodes.forEach(e=>{e.dataset.active="false"}),this.tabNodes.forEach(e=>{e.dataset.active="false"})}}customElements.define("slider-carousel-horizontal",i);
