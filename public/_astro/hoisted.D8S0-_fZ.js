import{E as a}from"./embla-carousel.esm.v-CXq_RL.js";import{A as o}from"./embla-carousel-autoplay.esm.B6nkazOu.js";import"./hoisted.BOYWiEH3.js";class l extends HTMLElement{embla;observer;slideNodes;dotNodes;constructor(){super(),this.embla=a(this.querySelector("[data-slider]"),{watchDrag:!1,duration:30},[o({playOnInit:!1,delay:5e3})]);const e=this.querySelector("[data-dots]");this.slideNodes=Array.from(this.querySelectorAll("[data-slide]")),this.dotNodes=Array.from(e.querySelectorAll("button")),this.setupDots(),this.observer=new IntersectionObserver(t=>{t.forEach(s=>{s.isIntersecting&&(this.observer.disconnect(),this.embla.plugins().autoplay.play())})}),this.observer.observe(e)}disconnectedCallback(){this.embla.destroy(),this.observer.disconnect()}setupDots(){this.dotNodes.forEach((e,t)=>{e.addEventListener("click",()=>this.embla.scrollTo(t,!1),!1)}),this.embla.on("autoplay:play",()=>{this.activateDot(this.embla.selectedScrollSnap())}),this.embla.on("autoplay:stop",()=>{this.clearActiveDots()}),this.embla.on("select",()=>{this.activateDot(this.embla.selectedScrollSnap()),this.embla.plugins().autoplay.reset()})}activateDot(e){this.clearActiveDots(),this.slideNodes[e].dataset.active="true",this.dotNodes[e].dataset.active="true"}clearActiveDots(){this.slideNodes.forEach(e=>{e.dataset.active="false"}),this.dotNodes.forEach(e=>{e.dataset.active="false"})}}customElements.define("text-and-image-carousel-vertical",l);
